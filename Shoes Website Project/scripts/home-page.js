shoes = [
  {
  name:'HARDEN VOL 8', 
  buy_link: 'https://www.adidas.ca/en/harden-volume-8-shoes/IE2695.html',
  image: 'shoe-images/harden-volume-8-shoes.jpg',
  release_year: 2023,
  brand: 'Adidas',
  features: 'BOOST Midsole, Full-Length JETBOOST',
  price: 210,
  review_link: 'https://www.youtube.com/watch?v=ptHNzAuoqDg',
  footlocker_link: 'https://www.footlocker.ca/en/search?query=harden%20vol%208',
  stockx_link: 'https://stockx.com/search?s=harden+vol+8',
  review_text: 'HARDEN-VOL-8' 
}, {
  name:'AE1', 
  buy_link: 'https://www.adidas.ca/en/ae-1-best-of-adi-basketball-shoes/IF1857.html',
  image: 'shoe-images/AE_1_Velocity_Blue_Basketball_Shoes_Blue_IF1864_01_standard.jpg',
  release_year: 2023,
  brand: 'Adidas',
  features: 'BOOST Midsole, Lightstrike Cushioning',
  price: 160,
  review_link: 'https://www.youtube.com/watch?v=Z-S7pXcsFu0',
  footlocker_link: 'https://www.footlocker.ca/en/search?query=ae1',
  stockx_link: 'https://stockx.com/search?s=ae1',
  review_text: 'AE-1' },
  {
  name:'KD17', 
  buy_link: 'https://www.nike.com/ca/w?q=kd17&vst=kd17',
  image: 'shoe-images/kd17-basketball-shoes-mRGfPx.jpeg',
  release_year: 2024,
  brand: 'Nike',
  features: 'Forefoot Air Zoom, Nike Air cushioning',
  price: 190,
  review_link: 'https://www.youtube.com/watch?v=Xg-pdGBm6X0',
  footlocker_link: 'https://www.footlocker.ca/en/search?query=kd%2017',
  stockx_link: 'https://stockx.com/search?s=kd17',
  review_text: 'KD-17'
  },
  {
    name:'BOOK 1', 
    buy_link: 'https://www.nike.com/ca/t/book-1-rattlesnake-basketball-shoes-jv8ksd/FJ4249-400',
    image: 'shoe-images/book-1-haven-basketball-shoes-rvWDwG.jpeg',
    release_year: 2024,
    brand: 'Nike',
    features: 'Top-loaded Air Zoom Unit, Full-Length Foam',
    price: 180,
    review_link: 'https://www.youtube.com/watch?v=2H0ypWYvZqo',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=book%201',
    stockx_link: 'https://stockx.com/search?s=book+1',
    review_text: 'BOOK-1'
  },
  {
    name:'LEBRON XXI', 
    buy_link: 'https://www.nike.com/ca/w?q=lebron%20xii&vst=lebron%20xii',
    image: 'shoe-images/lebron-xxi-freshwater-older-basketball-shoes-4C0n9z.jpeg',
    release_year: 2023,
    brand: 'Nike',
    features: 'Forefoot and Heel Air Zoom Unit, Cushlon Midsole',
    price: 260,
    review_link: 'https://www.youtube.com/watch?v=0RpYQvtf790',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=lebron%20xxi',
    stockx_link: 'https://stockx.com/search?s=lebron+xxi',
    review_text: 'LEBRON-XXI'
  },
  {
    name:'KAI 1', 
    buy_link: 'https://anta.com/collections/anta-kai-collection',
    image: 'shoe-images/1_ed60f72d-cc70-4be1-a65c-9b5c3c6d10c7.jpg',
    release_year: 2024,
    brand: 'Anta',
    features: 'Full-length Nitro Edge Foam',
    price: 170,
    review_link: 'https://www.youtube.com/watch?v=f-t0MEvB3QA',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=kai%201',
    stockx_link: 'https://stockx.com/search?s=kai+1',
    review_text: 'KAI-1'
  },
  {
    name:'DON ISSUE 6', 
    buy_link: 'https://www.adidas.ca/en/d.o.n-issue-6-camp-basketball-shoes/JH8969.html',
    image: 'shoe-images/D.O.N_Issue_6_Camp_Basketball_Shoes_Purple_JH8969_01_standard.avif',
    release_year: 2024,
    brand: 'Adidas',
    features: 'Lightstrike Cushioning, Textile Upper with Mesh Insert on Upper Foot',
    price: 140,
    review_link: 'https://www.youtube.com/watch?v=eUBQaXfSptM',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=don%20issue%206',
    stockx_link: 'https://stockx.com/search?s=don+issue+6',
    review_text: 'DON-ISSUE-6' 
  },
  {
    name:'DAME 8 EXTPLY', 
    buy_link: 'https://www.adidas.ca/en/dame-8-extply-shoes/IF1512.html',
    image: 'shoe-images/Dame_8_EXTPLY_Shoes_Purple_IF1512_01_standard.jpg',
    release_year: 2023,
    brand: 'Adidas',
    features: 'Bounce Midsole, Zonal Herringbone Rubber Outsole',
    price: 170,
    review_link: 'https://www.youtube.com/watch?v=kyFY_aFel34',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=dame%208%20extply',
    stockx_link: 'https://stockx.com/search?s=dame+8+extply',
    review_text: 'DAME-8-EXTPLY' 
  },
  {
    name:'TRAE YOUNG 3', 
    buy_link: 'https://www.adidas.ca/en/trae-young-3-basketball-shoes/IE2703.html',
    image: 'shoe-images/IF5602_01_standard.avif',
    release_year: 2023,
    brand: 'Adidas',
    features: 'Rubber Outsole, Textile Upper',
    price: 190,
    review_link: 'https://www.youtube.com/watch?v=BEBNzH1GNOc',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=trae%20young%203',
    stockx_link: 'https://stockx.com/search?s=trae+young+3',
    review_text: 'TRAE-YOUNG-3'
  },
  {
    name:'JA 1', 
    buy_link: 'https://www.nike.com/ca/w?q=ja%201&vst=ja%201',
    image: 'shoe-images/ja-1-vacation-basketball-shoes-RwJZZ9.jpeg',
    release_year: 2023,
    brand: 'Nike',
    features: 'Forefoot Air Zoom Unit, Midsole Cushioning',
    price: 160,
    review_link: 'https://www.youtube.com/watch?v=KRNp6scUH9U',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=ja%201',
    stockx_link: 'https://stockx.com/search?s=ja+1',
    review_text: 'JA-1'
  },
  {
    name:'LUKA 2', 
    buy_link: 'https://www.nike.com/ca/w?q=luka%202&vst=luka%202',
    image: 'shoe-images/luka-2-team-bank-basketball-shoes-qvvhqz.jpeg',
    release_year: 2023,
    brand: 'Jordan',
    features: 'Formula 23 Foam Midsole, Cushlon 3.0 Midsole Carrier',
    price: 170,
    review_link: 'https://www.youtube.com/watch?v=KRNp6scUH9U',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=luka%202',
    stockx_link: 'https://stockx.com/search?s=luka+2',
    review_text: 'LUKA-2'
  },
  {
    name:'GIANNIS FREAK 5', 
    buy_link: 'https://www.nike.com/ca/t/giannis-freak-5-basketball-shoes-9cDXCm/DX4985-600',
    image: 'shoe-images/ZOOM+FREAK+5+ASW.png',
    release_year: 2023,
    brand: 'Nike',
    features: 'Top-Loaded Zoom Air Unit in Forefoot, Firm Phylon Midsole',
    price: 180,
    review_link: 'https://www.youtube.com/watch?v=c8Zv0WcQpQU',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=giannis%20freak%205',
    stockx_link: 'https://stockx.com/search?s=giannis+freak+5',
    review_text: 'GIANNIS-FREAK-5'
  },
  {
    name:'TATUM 2', 
    buy_link: 'https://www.nike.com/ca/t/tatum-2-legacy-basketball-shoes-r29tPK/FJ6457-100',
    image: 'shoe-images/IN-FJ6457-300-1.webp',
    release_year: 2024,
    brand: 'Jordan',
    features: 'Phylon Midsole with Full-Length Air Strobel',
    price: 165,
    review_link: 'https://www.youtube.com/watch?v=2nCL88faqus',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=tatum%202',
    stockx_link: 'https://stockx.com/search?s=tatum+2',
    review_text: 'TATUM-2'
  },
  {
    name:'SABRINA 2', 
    buy_link: 'https://www.nike.com/ca/u/custom-nike-sabrina-2-by-you-10001914',
    image: 'shoe-images/custom-nike-sabrina-2-by-you.png',
    release_year: 2024,
    brand: 'Nike',
    features: 'Forefoot Air Zoom Unit, Cushlon 3.0 Foam Midsole',
    price: 170,
    review_link: 'https://www.youtube.com/watch?v=MOvUgGT_Bpg',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=sabrina%202',
    stockx_link: 'https://stockx.com/search?s=sabrina+2',
    review_text: 'SABRINA-2'
  },
  {
    name:'NIKE G.T. CUT 3', 
    buy_link: 'https://www.nike.com/ca/t/gt-cut-3-basketball-shoes-Z4jJ5M/DV2913-001',
    image: 'shoe-images/G.T.+CUT+3.png',
    release_year: 2024,
    brand: 'Nike',
    features: 'Full-Length ZoomX Foam, Foam Midsole',
    price: 245,
    review_link: 'https://www.youtube.com/watch?v=D-7i2KtroGE',
    footlocker_link: 'https://www.footlocker.ca/en/search?query=nike%20gt%20cut%203',
    stockx_link: 'https://stockx.com/search?s=nike+gt+cut+3',
    review_text: 'NIKE-GT-CUT-3'
  },];
function renderShoes(shoes){
  let homeHTML = '';
  shoes.forEach((shoe) => {
    homeHTML += 
    `<div class="shoe-box">
        <div class="shoe-name-box">
          <p class="shoe-name">${shoe.name}</p>
        </div>
        <div class="shoe-info">
          <div class="shoe-pic">
            <a href="${shoe.buy_link}" target="_blank">
                <img class="shoe-img" src="${shoe.image}">
            </a>
          </div>
          <div class="shoe-details">
            <div class="shoe-general">
              <div class="detail-header">Shoe Details:</div>
              <div class="shoe-release-year">
                Release Year: ${shoe.release_year}
              </div>
              <div class="brand">
                Brand: ${shoe.brand}
              </div>
              <div class="shoe-features">
                Shoe Features: ${shoe.features}
              </div>
              <div class="price">
                Retail Price: $${shoe.price} CAD
              </div>
            </div>
            <div class="purchase-options">
              <div class="detail-header">Purchase Options:</div>
              <a class ="shoe-buy-links" href="${shoe.buy_link}" target ="_blank">
                ${shoe.brand}: ${shoe.review_text}-${shoe.brand}
              </a>
              <a class ="shoe-buy-links" href="${shoe.footlocker_link}" target = "_blank">
                Footlocker: ${shoe.review_text}-Footlocker
              </a>
              <a class ="shoe-buy-links" href="${shoe.stockx_link}" target = "_blank">
                StockX: ${shoe.review_text}-StockX
              </a>
            </div>
            <div class="shoe-review">
              <div class="detail-header">Shoe Review:</div>
              <a class="review-link" href="${shoe.review_link}" target = "_blank">
                Link to Shoe Review: ${shoe.review_text}
              </a>
            </div>
          </div> 
        </div>
      </div>`
  });
  document.querySelector(".js-shoes-grid").innerHTML = homeHTML;
}
renderShoes(shoes);
// Functions related to sign-in button 
document.querySelector('.js-sign-in-button').addEventListener('click', ()=>{
  const button = document.querySelector('.js-sign-in-button');
  if(button.innerText === 'Sign In'){
    window.location.href = 'sign-in.html';
    localStorage.setItem('userLoggedIn', 'true');
  }
  else{
    button.innerText = 'Sign In';
    localStorage.removeItem('userLoggedIn');
  }
});
window.addEventListener('load', () => {
  const button = document.querySelector('.js-sign-in-button');
  
  if (localStorage.getItem('userLoggedIn')) {
    button.innerText = 'Log Out';
  } else {
    button.innerText = 'Sign In';
  }
});
// Functions related to search bar
function normalizeString(str) {
  return str.replace(/\s+/g, '').toUpperCase();
}
document.querySelector('.search-bar').addEventListener("keypress", function(event) {
  let shoeSearch = [];
  const user_search = normalizeString(document.querySelector('.search-bar').value);
  const brands = ['ADIDAS', 'NIKE', 'ANTA', 'JORDAN']; 

  if (event.key === 'Enter') {
    if (brands.includes(user_search)) {
      shoeSearch = shoes.filter((shoe) => {
        return normalizeString(shoe.brand) === user_search;
      });
    } else {
      shoeSearch = shoes.filter((shoe) => {
        return normalizeString(shoe.name).includes(user_search);
      });
    }

   if(shoeSearch.length === 0){
    document.querySelector(".js-shoes-grid").innerHTML = '<p>Sorry No Results Found</p>';
   }
   else{
    renderShoes(shoeSearch);
   }
  }
});